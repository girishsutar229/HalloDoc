@{
    ViewData["Title"] = "PatientDashboard";
}
@model HalloDoc.DataModels.PatientRequest

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit Request Page</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/patientloginpage.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/HalloDoc.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    @* <link rel="stylesheet" href="~/css/submit_request_types.css"> *@
   
</head>

<body>
    <div class="login" id="main">
        <Partial name="_Notification" />
        <div class="container-fluid bg-white shadow d-flex justify-content-between align-items-center sticky-top bg-white py-2  mb-2">
            <a class="navbar-brand" href="#">
                <img src="~/SRS Screen Shorts/Fig56. Patient site 11.png" alt="" width="100" height="60">
            </a>
            <div class="d-flex justify-content-around w-25">
                <p class="m-2 pt-2">Welcome <strong>Test Testing</strong></p>

                <button type="button" class="btn btn-outline-info  px-4" onclick="window.location.href = '@Url.Action("PatientSite", "Patient")';">LogOut</button>

                <button type="button" class="btn btn-outline-info position-absolute top-0 end-0 m-4" onclick="dark_mode()"><i class="bi bi-moon moon-icon "></i></button>
            </div>
         </div>

        <ul class="nav nav-underline" style="margin-left:40px; margin-top:5px">
            <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="pill" href="#dashboard">Dashboard</a>
            </li>
            <li class="nav-item" style="margin-left:40px">
                <a class="nav-link " data-bs-toggle="pill" href="#profile">Profile</a>
            </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content" style="background-color:#efefef; height:100vh">
            <div class="tab-pane container active mt-3" id="dashboard">
                <h2 class="pt-5 mb-3">Medical history</h2>

                <div class="d-grid container bg-light mt-5" style="border-radius:10px">

                    <!-- Button trigger modal -->
                    <button type="button" class=" btn btn-outline-info mx-2 mt-3 " data-bs-toggle="modal" data-bs-target="#exampleModal" style="justify-self:flex-end;">
                        Create New Request
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content" style="font-weight:600">
                                <div class="modal-header" style="background-color:#0dcaf0; color:white">
                                    <h5 class="modal-title" id="exampleModalLabel" > Create New Request </h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <p>Here , I create request for...</p>
                                    <div class="d-flex justify-content-center">
                                        <button type="button" class="btn btn-outline-info m-2" value="me" onclick="me1(this)">Me</button>
                                        <button type="button" class="btn btn-outline-info m-2" value="someone" onclick="se1(this)">Someone Else</button>
                                    </div>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-outline-info" onclick="create_request()">Continue</button>
                                    <button type="button" class="btn btn-outline-info" data-bs-dismiss="modal">Cancel</button>
                                </div>
                            </div>
                        </div>
                    </div >

                    <table class="table mt-4">
                        <thead style="background-color:#eeeeee">
                            <tr>
                                <th scope="col" >Created Date</th>
                                <th scope="col" >Current Status</th>
                                <th scope="col">Document</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                foreach(var item in (List<HalloDoc.DataModels.Request>)ViewBag.user1)
                                {
                                    <tr>
                                        <td>@item.FirstName</td>
                                        <td>@item.Status</td>
                                        <td><button class="btn btn-outline-info">document</button> </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>

                </div>
            </div>



            <div class="tab-pane container fade" id="profile">

                <div class=" col-12 col-sm-12 col-md-12 col-lg-12 mx-auto d-flex justify-content-between pt-5 ">
                    <h2>User Profile</h2>
                    <a asp-action="patient_dashboard" class="d-flex back-btn  text-end p-1"
                       style="color: #0dcaf0; font-size: larger;text-decoration:none">
                        <span class="material-icons pt-2">
                            chevron_left
                        </span>
                        <span class="p-1">Back</span>
                    </a>

                </div>
                <div class="d-grid gap-2 col-12 col-sm-12 col-md-12 col-lg-12 mx-auto d-flex content px-4 pt-4">


                    <form method="post" asp-action="patient_request_info">
                        <h3 id="t1" class="pt-2 pb-4">General Information</h3>
                      

                        <div class="row">
                            <div class="form-floating mb-3  col-md-6 col-lg-6">
                                <input type="text" class="form-control" id="floatingInput" asp-for="FirstName">
                                <label for="floatingInput" class="mx-3">First Name</label>
                                <span asp-validation-for="FirstName" class="text-danger"></span>
                            </div>
                            <div class="form-floating mb-3 col-md-6 col-lg-6">
                                <input type="text" class="form-control" id="floatingInput" asp-for="LastName">
                                <label for="floatingInput" class="mx-3">Last Name</label>
                                <span asp-validation-for="LastName" class="text-danger"> </span>
                            </div>
                            <div class="form-floating mb-3 col-md-6 col-lg-6">
                                <input type="Date" class="form-control" id="floatingInput" asp-for="BirthDate">
                                <label for="floatingInput" class="mx-3">Date Of Birth</label>
                                <span asp-validation-for="BirthDate " class="text-danger"></span>
                            </div>
                        </div>

                        <h3 class="pt-2 pb-4" id="t1">
                            Patient Contact Information
                        </h3>

                        <div class="row">
                            <div class="form-floating mb-3 col-md-6 col-lg-6">
                                <input type="email" class="form-control" id="floatingInput" asp-for="Email">
                                <label for="floatingInput" class="mx-3">Email address</label>
                                <span asp-validation-for="Email" class="text-danger"></span>
                            </div>
                            <div class="form-floating col-md-6 col-lg-6">
                                <input type="tel" class="form-control pt-3 pb-3" id="phone" asp-for="PhoneNumber">
                                <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                            </div>
                        </div>


                        <h3 class="pt-2 pb-4" id="t1">
                            Patient Location
                        </h3>

                        <div class="row">
                            <div class="form-floating mb-3  col-md-6 col-lg-6">
                                <input type="text" class="form-control" id="floatingInput" asp-for="Street">
                                <label for="floatingInput" class="mx-3">Street</label>
                                <span asp-validation-for="Street" class="text-danger"></span>
                            </div>
                            <div class="form-floating mb-3 col-md-6 col-lg-6">
                                <input type="text" class="form-control" id="floatingInput" asp-for="City">
                                <label for="floatingInput" class="mx-3">City</label>
                                <span asp-validation-for="City" class="text-danger"></span>
                            </div>
                            <div class="form-floating mb-3  col-md-6 col-lg-6">
                                <input type="text" class="form-control" id="floatingInput" asp-for="State">
                                <label for="floatingInput" class="mx-3">State</label>
                                <span asp-validation-for="State" class="text-danger"></span>
                            </div>
                            <div class="form-floating mb-3 col-md-6 col-lg-6">
                                <input type="number" class="form-control" id="floatingInput" asp-for="ZipCode">
                                <label for="floatingInput" class="mx-3">Zip Code</label>
                                <span asp-validation-for="ZipCode" class="text-danger"></span>
                            </div>
                         
                        </div>

                        

                        <div class="d-flex justify-content-end">
                            <button type="button" class="btn btn-info mx-3 p-2 px-3 mb-2">Edit</button>
                        </div>
                    </form>

                </div>
               
            </div>

        </div>

    </div>

    <footer style="position:fixed;bottom:0; width:100%;">
        <div style="padding-right: 40px;">
            <a href="" style="color: white;">Terms Of Conditions</a> |
            <a href="" style="color: white;">Privacy Policy</a>
        </div>
    </footer>

</body>


</html>
 @* 
<script>
    var x = false;
    function dark_mode() {
        if (x) {
            document.getElementById("main").style.backgroundColor = "white";
            document.getElementById("t1").style.color = "black";
            x = false;
        }
        else {
            document.getElementById("main").style.backgroundColor = "black";
            document.getElementById("t1").style.color = "white";
            x = true;
        }

        
    }

    var requestValue ;

    function me1(button){
        requestValue = button.value;
    }
    function se1(button){
        requestValue = button.value;
    }
   
    function create_request(){
        console.log(requestValue);
        if(requestValue == "me"){
            window.location.href = '@Url.Action("request_me","Patient")'
        }
        else{
            window.location.href = '@Url.Action("request_someone","Patient")'
        }
        
    }

    const phoneInputField = document.querySelector("#phone");
    const phoneInput = window.intlTelInput(phoneInputField, {
        utilsScript:
            "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
    });
</script> *@